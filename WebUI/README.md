# Robot Control Web UI

åŒå±‚ LLM æœºå™¨äººæ§åˆ¶ç³»ç»Ÿçš„ Web ç•Œé¢ï¼Œæä¾›ç²¾ç¾çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **ç²¾ç¾ç•Œé¢**ï¼šç°ä»£åŒ–ç»ç’ƒæ€è®¾è®¡ï¼Œæµç•…åŠ¨ç”»æ•ˆæœ
- ğŸ’¬ **è‡ªç„¶è¯­è¨€æ§åˆ¶**ï¼šæ”¯æŒä¸­æ–‡å‘½ä»¤è¾“å…¥
- ğŸ“Š **å®æ—¶çŠ¶æ€**ï¼šWebSocket å®æ—¶æ›´æ–°æœºå™¨äººçŠ¶æ€
- ğŸ“‹ **ä»»åŠ¡å†å²**ï¼šå®Œæ•´çš„ä»»åŠ¡æ‰§è¡Œè®°å½•
- ğŸ”§ **å·¥å…·å±•ç¤º**ï¼šå¯è§†åŒ–æ‰€æœ‰å¯ç”¨çš„æœºå™¨äººå·¥å…·
- ğŸ”„ **åŒå±‚ LLM**ï¼šä»»åŠ¡è§„åˆ’ + æ‰§è¡Œæ§åˆ¶

## ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·æµè§ˆå™¨ â†’ Web UI (Flask + React)
                          â†“
                   RobotService (å°è£…å±‚)
                          â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â†“                           â†“
         LLM_Module               Robot_Module
         (ä»»åŠ¡è§„åˆ’)                 (MCP å·¥å…·)
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
                    ROS2 è¯é¢˜é€šä¿¡
                          â†“
                     Sim_Module
                     (2D ä»¿çœŸå™¨)
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

#### åç«¯ä¾èµ–
```bash
cd backend
pip install -r requirements.txt
```

#### å‰ç«¯ä¾èµ–
```bash
cd frontend
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¡®ä¿å·²è®¾ç½® `Test_API_KEY` ç¯å¢ƒå˜é‡ï¼š

```bash
# æ–¹å¼1ï¼šç›´æ¥è®¾ç½®
export Test_API_KEY=your_api_key_here

# æ–¹å¼2ï¼šåˆ›å»º .env æ–‡ä»¶
echo "Test_API_KEY=your_api_key_here" > ../../.env
```

### 3. å¯åŠ¨æœåŠ¡

#### æ–¹å¼1ï¼šåˆ†åˆ«å¯åŠ¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

**ç»ˆç«¯1 - åç«¯æœåŠ¡å™¨ï¼š**
```bash
cd backend
python app.py
```

**ç»ˆç«¯2 - å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š**
```bash
cd frontend
npm run dev
```

**ç»ˆç«¯3 - ä»¿çœŸå™¨ï¼ˆå¯é€‰ï¼‰ï¼š**
```bash
cd ../../Sim_Module/sim2d
python simulator.py
```

#### æ–¹å¼2ï¼šä¸€é”®å¯åŠ¨ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰

```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# å¯åŠ¨åç«¯ï¼ˆè‡ªåŠ¨æä¾›å‰ç«¯é™æ€æ–‡ä»¶ï¼‰
cd ../backend
python app.py
```

### 4. è®¿é—®ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
- å¼€å‘æ¨¡å¼ï¼šhttp://localhost:5173
- ç”Ÿäº§æ¨¡å¼ï¼šhttp://localhost:5000

## ç›®å½•ç»“æ„

```
WebUI/
â”œâ”€â”€ backend/                 # Flask åç«¯
â”‚   â”œâ”€â”€ app.py              # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ robot_service.py    # æœºå™¨äººæœåŠ¡å±‚
â”‚   â””â”€â”€ requirements.txt    # Python ä¾èµ–
â”‚
â”œâ”€â”€ frontend/               # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CommandInput.jsx    # å‘½ä»¤è¾“å…¥
â”‚   â”‚   â”‚   â”œâ”€â”€ RobotStatus.jsx     # çŠ¶æ€æ˜¾ç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ AvailableTools.jsx  # å·¥å…·åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ TaskHistory.jsx     # å†å²è®°å½•
â”‚   â”‚   â”œâ”€â”€ contexts/       # React Context
â”‚   â”‚   â”‚   â””â”€â”€ RobotContext.jsx    # æœºå™¨äººçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”‚   â””â”€â”€ useWebSocket.js     # WebSocket è¿æ¥
â”‚   â”‚   â”œâ”€â”€ App.jsx         # ä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ main.jsx        # å…¥å£
â”‚   â”‚   â””â”€â”€ index.css       # æ ·å¼
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ tailwind.config.js
â”‚
â””â”€â”€ README.md
```

## API æ¥å£

### REST API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/` | GET | å‰ç«¯é¡µé¢ |
| `/api/status` | GET | è·å–ç³»ç»ŸçŠ¶æ€ |
| `/api/tools` | GET | è·å–å¯ç”¨å·¥å…· |
| `/api/history` | GET | è·å–ä»»åŠ¡å†å² |
| `/api/command` | POST | æ‰§è¡Œå‘½ä»¤ |

### WebSocket

- **è¿æ¥åœ°å€**: `ws://localhost:5000/ws`
- **æ¶ˆæ¯ç±»å‹**:
  - `ping` / `pong` - å¿ƒè·³æ£€æµ‹
  - `progress` - ä»»åŠ¡æ‰§è¡Œè¿›åº¦
  - `complete` - ä»»åŠ¡å®Œæˆé€šçŸ¥
  - `status` - çŠ¶æ€æ›´æ–°

## ç¤ºä¾‹å‘½ä»¤

- å‘å‰ç§»åŠ¨ 1 ç±³
- å‘åç§»åŠ¨ 0.5 ç±³
- å‘å·¦è½¬ 90 åº¦
- æ£€æµ‹é¢œè‰²å¹¶ç§»åŠ¨
- å‘å‰ç§»åŠ¨ 2 ç±³ç„¶åå‘å³è½¬ 45 åº¦

## æŠ€æœ¯æ ˆ

### åç«¯
- Flask - Web æ¡†æ¶
- Flask-CORS - è·¨åŸŸæ”¯æŒ
- Flask-Sock - WebSocket æ”¯æŒ
- åŸæœ‰é¡¹ç›®æ¨¡å—ï¼ˆLLM_Module, Robot_Moduleï¼‰

### å‰ç«¯
- React 18 - UI æ¡†æ¶
- Vite - æ„å»ºå·¥å…·
- Tailwind CSS - æ ·å¼æ¡†æ¶
- Axios - HTTP å®¢æˆ·ç«¯
- WebSocket API - å®æ—¶é€šä¿¡

## æ•…éšœæ’æŸ¥

### åç«¯æ— æ³•å¯åŠ¨
1. æ£€æŸ¥ `Test_API_KEY` æ˜¯å¦å·²è®¾ç½®
2. ç¡®ä¿æ‰€æœ‰ Python ä¾èµ–å·²å®‰è£…
3. æ£€æŸ¥ç«¯å£ 5000 æ˜¯å¦è¢«å ç”¨

### å‰ç«¯æ— æ³•è¿æ¥åç«¯
1. ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ CORS é…ç½®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### WebSocket è¿æ¥å¤±è´¥
1. ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ WebSocket åœ°å€
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. ç¡®è®¤åç«¯ WebSocket æœåŠ¡æ­£å¸¸

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `frontend/src/components/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `App.jsx` ä¸­å¼•å…¥å¹¶ä½¿ç”¨
3. ä½¿ç”¨ Tailwind CSS ç¼–å†™æ ·å¼

### ä¿®æ”¹ API æ¥å£

1. åœ¨ `backend/app.py` æ·»åŠ æ–°è·¯ç”±
2. åœ¨ `frontend/src/contexts/RobotContext.jsx` æ·»åŠ å¯¹åº”çš„è°ƒç”¨æ–¹æ³•
3. æ›´æ–°ç»„ä»¶ä»¥ä½¿ç”¨æ–°çš„ API

### è‡ªå®šä¹‰æ ·å¼

- ä¿®æ”¹ `frontend/src/index.css` ä¸­çš„å…¨å±€æ ·å¼
- ä¿®æ”¹ `frontend/tailwind.config.js` ä¸­çš„ä¸»é¢˜é…ç½®
- ä½¿ç”¨ Tailwind çš„ utility classes è¿›è¡Œæ ·å¼å®šåˆ¶

## è®¸å¯è¯

ä¸ä¸»é¡¹ç›®ä¿æŒä¸€è‡´
